# 1. Numerial Python - Numpy

<br>

## Ndarray

~~~python
np.array([[1, 4, 5, "8"], [3, 5, 6, 7]], float)
~~~

으로 보통 array 생성

### 기본적으로 array에서 중요한 두 가지

- shape : numpy array의 object의 dimension 구성을 반환함(튜플 타입으로 반환), test_array.shape
- dtype : numpy array의 데이터 type을 반환함, test_array.dtype

### shape에서 중요한 두 가지

- ndim : number of dimension, np.array(tensor, float).ndim
- size : data의 개수, np.array(tensor, float).size

### dtype에서는 보통 float32, float64(float)를 많이 사용 (그리고 기본적으로 dtype을 정해주지 않으면 float64로 설정)

<br>

## Handling shape

### reshape

~~~python
np.array(test_matrix, float).reshape(8)
np.array(test_matrix).reshape(2,2,2)
np.array(test_matrix).reshape(-1,2)
~~~

reshape(-1,2)에서 -1은 내가 column값만 지정하고 나머지는 별로 신경쓰고 싶지 않을 때 또는 row의 갯수를 정확하게 모를 때, -1로 하여 size를 기반으로 row 개수를 선정해준다. 쉽게 말해 "열만 2로 하고 싶고, 나머지는 너가 알아서 해줘"라는 것이다.

또한 reshape은 보다시피 총 element의 갯수가 만약 8이라면 8의 약수로만 reshape을 할 수 있고, -1로 할 때도 마찬가지이다.

### flatten

~~~python
np.array(test_matrix).flatten()
~~~

<br>

## Indexing & Sclicing

### Indexing

~~~python
test_example[0][0]
test_example[0,0]
~~~

### Sclicing

~~~python
test_example[:2,:]
test_example[:,1:3]

a[:, -1].reshape(-1,1)
~~~

<br>

## Creation function

### arange

- 기본적으로 int형으로 생성됨

~~~python
np.arange(30, dtype=float).reshape(-1,5)
np.arange(0, 5, 0.5)
np.arange(30).reshape(5,6)
~~~

### ones, zeros & empty

- zeros – 0으로 가득찬 ndarray 생성

~~~python
print(np.zeros((2,5), float))
~~~

- ones – 1로 가득찬 ndarrary 생성

~~~python
print(np.ones((5,2)))
~~~

### something_like

- 기존 ndarray의 shape 크기 만큼 1, 0 또는 empty array를 반환

~~~python
test_matrix = np.arange(30).reshape(5,6)
print(test_matrix)
print(np.zeros_like(test_matrix))
~~~

### random sampling

- 데이터 분포에 따른 sampling으로 array를 생성

np.random.uniform(x,y,z)는 x 이상부터 y 미만사이의 z개를 Uniform distribution random 값으로 선언

~~~python
print(np.random.uniform(0,1,10).reshape(2,5))
~~~

np.random.normal(x,y,z)는 x 이상부터 y 미만 사이의 z개를 평균이 0이고 분산이 1인 Normal distribution random 값으로 선언

~~~python
print(np.random.normal(0,1,10).reshape(2,5))
~~~

<br>

## Operation functions

### axis

~~~python
test_array.sum(axis=1)
test_array.sum(axis=0)
test_array.sum(axis=-1)
~~~

## concatenate

~~~python
a = np.array([[1, 2, 3]])
b = np.array([[2, 3, 4]])
np.concatenate((a,b), axis=0)

a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6]])
np.concatenate((a,b.T), axis=1) # 여기서 T는 transpose

np.concatenate((a, b), axis=None) # flatten과 동일
~~~

<br>

## Comparisons

### Comparison operation

~~~python
test_a = np.array([1, 3, 0], float)
test_b = np.array([5, 2, 1], float)
print(test_a > test_b)
~~~

[False  True False]

### np.where

- np.where(x) : x의 조건에 따른 index 값을 반환
- np.where(x, y, z) : x의 조건을 index에 따라서 True일 경우 y, False일 경우 z를 반환

~~~python
a = np.array([1, 3, 0], float)

print(np.where(a>0))
print(np.where(a>0, 3, 2))
~~~

<br>

## Boolean & Fancy index

### boolean index

~~~python
test_array = np.array([1, 4, 0, 2, 3, 8, 9, 7], float)
print(test_array[test_array > 3])

condition = test_array < 3 
print(test_array[condition])
~~~

- astype : 기존의 array를 copy하여 새로운 array로 변환할 때 사용

~~~python
B.astype(np.int)

a_int = a.astype(int)
~~~

### fancy index

- 앞서 다뤘던 boolean index를 주로 더 많이 사용

~~~python
a = np.array([2, 4, 6, 8], float)
b = np.array([0, 0, 1, 3, 2, 1], int) # 반드시 integer로 선언
print(a[b]) # bracket index : b 배열의 값을 index로 하여 a의 값들을 추출함
~~~

~~~python
print(a.take(b)) # take 함수 : bracket index와 같은 효과
~~~

~~~python
a = np.array([[1, 4], [9, 16]], float)
b = np.array([0, 0, 1, 1, 0], int)
c = np.array([0, 1, 1, 1, 1], int)
print(a[b,c]) # b를 row index, c를 column index로 변환하여 표시함
~~~